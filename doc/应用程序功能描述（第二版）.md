# 应用程序功能描述（第二版）

### 应用名：<span style="color:red">待定</span> 日期：2018.11.28

*斜体为尚未讨论的补充内容。*

----

应用分为四个模块：任务模块，账户模块，信息模块和聊天模块。**推荐将每个模块设计为一屏内容，并将接单模块置于首屏。**

#### 账户模块

在程序启动时，强制用户登录。登录中有可能跳转学校账号的登录页，需要弹出浏览器。

登录后，展示用户的昵称，头像，加入的组织，**累计捐助金额**，默认捐助项目，获得的勋章。

用户可以更改昵称、头像、加入的组织和默认捐助的项目。如果用户加入了组织，则不能自由选择捐助的项目，必须以组织的选择为准。

组织拥有自己的主页，展示组织的名称、头像、口号、负责人和简介。用户可以浏览自己加入的组织的主页。如果当前登录的用户是某个组织的负责人，那么他可以在组织主页上更换头像、口号和简介，删除该组织的成员。

#### 信息模块

展示关于慈善事业进展的新闻条目，由运维人员手工撰写，用户可以随意点击浏览详细信息，无交互。

展示一个慈善项目列表，包含所有的慈善项目，无论是否已经结束。每一个慈善项目拥有自己的二级主页，内容为该项目的简述、相关新闻和捐助人员/团体名单。

展示每日更新的单人捐助金额排行榜，大约需要展示前10-50名。展示每周更新的组织捐助金额排行榜。上榜的个人和团体会获得勋章。

点击组织排行榜上的组织可以浏览组织的主页。

若用户参与的慈善项目有了新的相关新闻，或者用户（或所在团体）出现在排行榜上，则系统会通过聊天模块通知用户，并提供按钮跳转至相应详情页。

* 在合适的位置添加按钮，允许用户不经由任务模块，直接给慈善项目捐款。该捐款核算进用户的累计捐款金额中。

#### 任务模块

展示经过排序的可以接受的任务列表，和「创建任务」按钮。用户可以指定它的出发地和目的地。提供地图供用户方便的设置出发地/目的地。任务列表的排序依据是：该任务所捐出的金额，该任务出发地与用户指定的出发地之间的距离（若用户指定了出发地），以及目的地同上。

用户可以在该页面上接受任务。用户可以同时接受多个任务。接受的任务完成后，用户可以选择：将该任务所捐出的金额转入自己的账户，或者将该金额捐出。选择被捐出的金额将累积至账户模块所显示的累积捐助金额，并参与排行榜排名。

捐出金额时，用户可以选择该金额捐给的慈善项目。系统可以记住用户上一次的选择。对于第一次捐助的用户，默认选项为剩余所需资金最少的项目。

用户可以点击「创建任务」按钮创建新的任务。如果用户已经创建了任务并且该任务尚未完成，则用户不能创建新的任务，但可以浏览自己创建的任务的进展。创建任务时应填写任务的出发地，目的地，以及尽量详细的描述。提供地图供用户方便的设置出发地/目的地。用户需要为创建的任务设置捐赠的金额，并在支付相应金额后方可创建任务。

用户可以取消创建的任务（无论被接单与否），可以将任务标记为「已完成」。*用户不应当随意取消已经被接单的任务。用户不应该随意取消任务。*

创建任务的用户与接单的用户可以互相联系。这将在聊天模块创建新的聊天。

如果当前用户已经接下若干任务，则在任务模块的主页应该出现一个悬浮按钮，点击可以查看当前接下的任务列表。

#### 聊天模块

展示用户全部的聊天。任务结束后，用户可以继续聊天。在聊天界面，创建任务的用户可以方便的确认任务已完成或取消任务。

系统会将新闻系统*（以及其他）*产生的推送以聊天方式发送给用户。
